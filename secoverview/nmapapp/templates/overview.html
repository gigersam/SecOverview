{% extends "layout.html" %}

{% block content %}

<div class="p-4">
    <h1>NMAP Overview</h1>
    <div class="d-grid gap-4 d-md-flex">
        <h3>Scans</h3> 
        <a href="{% url 'scansoverview' %}"><button type="button" class="btn btn-dark">Overview Scans</button></a>
        <a href="{% url 'nmapscan' %}"><button type="button" class="btn btn-dark">Create Scan</button></a>
    </div>
    <table class="table table-hover">
        <tr>
            <td>Scan Date</td>
            <td>IP-Range</td>
            <td>Parameters</td>
            <td>Actions</td>
        </tr>
        {% for scan in scans %}
        <tr>
            <td>{{ scan.created_at }}</td>
            <td>{{ scan.ip }}</td>
            <td>{{ scan.parameters }}</td>
            <td><a href="{% url 'scanview' scan.pk %}"><button type="button" class="btn btn-dark">View</button></a></td>
        </tr>
        {% endfor %}
    </table>
    <div class="d-grid gap-4 d-md-flex">
        <h3>Assets</h3>
        <a href="{% url 'nmapassetsoverview' %}"><button type="button" class="btn btn-dark">Overview Assets</button></a>
    </div>
    <table class="table table-hover">
        <tr>
            <td>Name</td>
            <td>IP-Address</td>
            <td>Scan-Report</td>
            <td>Actions</td>
        </tr>
        {% for asset in assets %}
        <tr>
            <td>{{ asset.name }}</td>
            <td>{{ asset.ip_address }}</td>
            <td>{{ asset.added_by_scan }}</td>
            <td><a href="{% url 'nmapassetview' asset.pk %}"><button type="button" class="btn btn-dark">View</button></a></td>
        </tr>
        {% endfor %}
    </table>
</div>

{% endblock %}